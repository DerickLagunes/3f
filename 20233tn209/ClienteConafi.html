<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Datos del Cliente</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' type='text/css' media='screen' href='CSS/bootstrap.css'>
</head>
<body>
    <p>v2</p>
<h1 id="name"></h1>
<h2 id="last"></h2>
<p id="email"></p>
<p id="date"></p>
<p id="tel"></p>
<p id="user"></p>
<p id="statusContra"></p>
<p id="erronea"></p>

<script>
    function getParameter(key) {
        let address = window.location.search; // Obtiene la URL de la barra de búsqueda del navegador
        let parameterList = new URLSearchParams(address); // Busca los parámetros
        return parameterList.get(key); // Regresa el valor del parámetro "key"
    }

    let name = getParameter("name");
    let last = getParameter("last");
    let email = getParameter("email");
    let date = new Date(getParameter("date"));
    let tel = getParameter("tel");
    let user = getParameter("user");
    let contra = getParameter("contra");
    let contra2 = getParameter("contra2");

    // Pintar nombre de usuario
    document.getElementById("name").innerText = name;
    document.getElementById("last").innerText = last;
    document.getElementById("email").innerHTML = `<a href="mailto:${email}">${email}</a>`;
    document.getElementById("date").innerText = "Edad: " + calculateAge(date) + " años";
    document.getElementById("tel").innerHTML = `<a href="tel:${tel}">${tel}</a>`;
    document.getElementById("user").innerText = user;

    // Pintar estado de la contraseña
    if (contra.length < 5) {
        document.getElementById("statusContra").innerText = "Tu contraseña es insegura";
    } else {
        document.getElementById("statusContra").innerText = "Tu contraseña es segura";
    }

    // Verificar si las contraseñas coinciden
    if (contra !== contra2) {
        document.getElementById("erronea").innerText = "Las contraseñas no coinciden";
    } else {
        document.getElementById("erronea").innerText = "Las contraseñas coinciden";
    }

    // Función para calcular la edad
    function calculateAge(birthDate) {
        let currentDate = new Date();
        let age = currentDate.getFullYear() - birthDate.getFullYear();
        let monthDifference = currentDate.getMonth() - birthDate.getMonth();
        if (monthDifference < 0 || (monthDifference === 0 && currentDate.getDate() < birthDate.getDate())) {
            age--;
        }
        return age;
    }
</script>

<button>
<a href="NuevoCliente.html">Volver</a>

</button>
</body>
</html>

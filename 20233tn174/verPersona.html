<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Ver Registro</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' type='text/css' media='screen' href='CSS/bootstrap.css'>
</head>
<body>
    <div class="container">
        <h1>Información de la Persona</h1>
        <div id="resultados"></div>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            // Función para obtener los parámetros de la URL
            function getQueryParams() {
                var params = {};
                window.location.search.substring(1).split('&').forEach(function(param) {
                    var parts = param.split('=');
                    params[parts[0]] = decodeURIComponent(parts[1]);
                });
                return params;
            }

            var params = getQueryParams();

            if (params.nombre && params.apellido && params.email && params.fecha && params.tel) {
                var nombre = params.nombre;
                var apellido = params.apellido;
                var email = params.email;
                var fecha = params.fecha;
                var tel = params.tel;

                // Calcular la edad
                var año_nac = new Date(fecha);
                var dia = new Date();
                var año = dia.getFullYear() - año_nac.getFullYear();
                var meses_de_diferencia = dia.getMonth() - año_nac.getMonth();
                if (meses_de_diferencia < 0 || (meses_de_diferencia === 0 && dia.getDate() < año_nac.getDate())) {
                    año--;
                }

                // Mostrar datos
                var resultados = document.getElementById("resultados");
                resultados.innerHTML = `
                    <h1>${nombre}</h1>
                    <h2>${apellido}</h2>
                    <p>Email: <a href="mailto:${email}">${email}</a></p>
                    <p>Teléfono: <a href="tel:${tel}">${tel}</a></p>
                    <p>Edad: ${año} años</p>
                `;
            } else {
                resultados.innerHTML = "<p>No hay datos registrados.</p>";
            }
        });
    </script>
</body>
</html>

<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Registro</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' type='text/css' media='screen' href='CSS/bootstrap.css'>
</head>
<body>
    <div class="container">
        <h1>Registro de Persona</h1>
        <form method="get" id="formulario"><br>
            <label for="nombre">Nombres: </label><br>
            <input type="text" id="nombre" name="nombre" required><br>
            <label for="apellido">Apellidos: </label><br>
            <input type="text" id="apellido" name="apellido" required><br>
            <label for="email">Email: </label><br>
            <input type="email" id="email" name="email" required><br>
            <label for="fecha">Fecha de nacimiento: </label><br>
            <input type="date" id="fecha" name="fecha" required><br>
            <label for="tel">Teléfono: </label><br>
            <input type="tel" id="tel" name="tel" required><br>
            <label for="usuario">Usuario: </label><br>
            <input type="text" id="usuario" name="usuario" required><br>
            <label for="contra">Contraseña: </label><br>
            <input type="password" id="contra" name="contra" required><br>
            <label for="contra-repetir">Repetir contra: </label><br>
            <input type="password" id="contra-repetir" name="contra-repetir" required><br>
            <br>
            <div>
                <input type="button" id="enviar" value="Registrar">
            </div>
        </form>
        <p id="mensaje"></p>
    </div>

    <script>
        document.getElementById("enviar").addEventListener("click", confirmar_contraseña);

        function confirmar_contraseña() {
            // Obtener valores del formulario
            var nombre = document.getElementById("nombre").value;
            var apellido = document.getElementById("apellido").value;
            var email = document.getElementById("email").value;
            var fecha = document.getElementById("fecha").value;
            var tel = document.getElementById("tel").value;
            var contra = document.getElementById("contra").value;
            var contra2 = document.getElementById("contra-repetir").value;

            var mensaje = "";

            // Validar contraseñas
            if (contra !== contra2) {
                mensaje = "Las contraseñas no coinciden.";
            } else if (contra.length < 5) {
                mensaje = "Tu contraseña es insegura, debe tener al menos 5 caracteres.";
            } else {
                // Si las contraseñas coinciden y son seguras, redirigir a la página de visualización con los datos
                var url = `verPersona.html?nombre=${encodeURIComponent(nombre)}&apellido=${encodeURIComponent(apellido)}&email=${encodeURIComponent(email)}&fecha=${encodeURIComponent(fecha)}&tel=${encodeURIComponent(tel)}`;
                window.location.href = url;
            }

            // Mostrar mensaje de error si hay
            document.getElementById("mensaje").textContent = mensaje;
        }
    </script>
</body>
</html>

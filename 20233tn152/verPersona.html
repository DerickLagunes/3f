<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Información de Persona</title>
</head>
<body>
    <script>
        window.onload = function() {
            const urlParams = new URLSearchParams(window.location.search);
            const nombres = urlParams.get('nombres');
            const apellidos = urlParams.get('apellidos');
            const correo = urlParams.get('correo');
            const telefono = urlParams.get('telefono');
            const fechaNacimiento = new Date(urlParams.get('fechaNacimiento'));

            document.getElementById('nombres').innerText = nombres;
            document.getElementById('apellidos').innerText = apellidos;
            document.getElementById('correo').innerHTML = '<a href="mailto:' + correo + '">' + correo + '</a>';
            document.getElementById('telefono').innerHTML = '<a href="tel:' + telefono + '">' + telefono + '</a>';

            const edad = calcularEdad(fechaNacimiento);
            document.getElementById('edad').innerText = "Edad: " + edad + " años";

            const contraseña = urlParams.get('contraseña');
            const repetirContraseña = urlParams.get('repetirContraseña');
            const mensaje = document.getElementById('mensaje');
            const contraseñaInsegura = document.getElementById('contraseñaInsegura');
            if (contraseña !== repetirContraseña) {
                mensaje.innerText = "Las contraseñas no coinciden";
            } else {
                if (contraseña.length < 5) {
                    mensaje.innerText = "Su contraseña es insegura";
                }
            }

            function calcularEdad(fechaNacimiento) {
                const hoy = new Date();
                const edad = hoy.getFullYear() - fechaNacimiento.getFullYear();
                const mes = hoy.getMonth() - fechaNacimiento.getMonth();
                if (mes < 0 || (mes === 0 && hoy.getDate() < fechaNacimiento.getDate())) {
                    return edad - 1;
                }
                return edad;
            }
        };
    </script>

    <h1 id="nombres"></h1>
    <h2 id="apellidos"></h2>
    <p id="mensaje"></p>
    <p id="contraseñaInsegura"></p>
    <p id="correo"></p>
    <p id="telefono"></p>
    <p id="edad"></p>
</body>
</html>